---
import { languages } from '../i18n/ui'
import { getLangFromUrl } from '../i18n/utils'

const currentLang = getLangFromUrl(Astro.url)
---

<div
  class="flex items-center gap-2 bg-neutral-800/50 p-1 rounded-xl backdrop-blur-sm border border-neutral-700/50"
>
  {
    Object.entries(languages).map(([code, label]) => (
      <a
        href={code === 'es' ? '/' : `/${code}/`}
        class={`text-[10px] font-black px-2.5 py-1.5 rounded-lg transition-all duration-300 ${
          currentLang === code
            ? 'bg-sky-500 text-neutral-950 shadow-[0_0_15px_rgba(14,165,233,0.4)]'
            : 'text-neutral-400 hover:text-sky-400 hover:bg-sky-400/10'
        }`}
        title={label}
      >
        {code.toUpperCase()}
      </a>
    ))
  }
</div>
